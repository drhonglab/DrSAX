<html>
	<head>
		<meta charset="utf-8">
	

<canvas class="box" id="box1" ></canvas><button class="button" onclick="openNav();">Dr.sax set  </button>
<canvas class="box" id="box2"  ></canvas>
<canvas class="box" id="box3"  ></canvas><button class="button">Click Me!</button>
<canvas class="box" id="box4"  ></canvas>
<canvas class="box" id="box5"  ></canvas><button class="button" id="in" onclick="micInputon();">Mic Input </button>
<canvas class="box" id="box6"  ></canvas>

 
<h3 id="statusdiv">Status</h3>
<h3 id="statusdiv2">Status</h3>
<h3 id="statusdiv3">Status</h3>
<h3 id="statusdiv4">Status</h3>
<h3 id="statusdiv5">Status</h3>
<h3 id="statusdiv6">Status</h3>
<p id="name">홍길동</p>

  <div id="myNav" class="overlay">
  <a class="closebtn" onclick="closeNav()">close</a>
  <div class="overlay-content">
    <a href="#">Low-frequency oscillation</a>
    <a href="#">Feel free to enjoy</a>

  </div>



	</head>
	<body>
		
  
	<style>

.box{
width:400px;
height: 400px;
padding: 10px;
border: 1px solid orange;
-webkit-box-sizing: border-box;
-moz-box-sizing: border-box;
box-sizing: border-box;
background: black;
border-radius: 200px;

}


</style>

<style>
.button {
    background-color: yellow;
    border: none;
    color: gray;
    padding: 40px 10px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 30px;
      border-radius: 100px;
    cursor: pointer;
}
</style>

	<style>
body {
    margin: 0;
    font-family: 'Lato', sans-serif;
}

.overlay {
    height: 100%;
    width: 0;
    position: fixed;
    z-index:1;
    top: 0;
    left: 0;
    background-color: rgb(0,0,0);
    background-color: rgba(0,0,0,0.7);
    overflow-x: hidden;
    transition: 0.5s;
}

.overlay-content {
    position: relative;
    top: 25%;
    width: 100%;
    text-align: center;
    margin-top: 30px;
}

.overlay a {
    padding: 8px;
    text-decoration: none;
    font-size: 36px;
    color: white;
    display: block;
    transition: 0.3s;
}

.overlay a:hover, .overlay a:focus {
    color: #f1f1f1;
}

.closebtn {
    position: absolute;
    top: 20px;
    right: 45px;
    font-size: 80px !important;
}

@media screen and (max-height: 450px) {
  .overlay a {font-size: 20px}
  .closebtn {
    font-size: 40px !important;
    top: 15px;
    right: 35px;
  }
}
</style>	
<script src="tuner.1.2.js"> </script>
<script>

 
    var box1 = document.getElementById('box1')
    var statusdiv = document.getElementById('statusdiv')
    var startx = 0
    var dist = 0
 
    box1.addEventListener('touchstart', function(e){
        var touchobj = e.changedTouches[0] // reference first touch point (ie: first finger)
        startx = parseInt(touchobj.clientX) // get x position of touch point relative to left edge of browser
        statusdiv.innerHTML = startx + 'px'
        e.preventDefault()

    document.getElementById("box1").setAttribute("style", "background-color:red;"); 
     
      osc.frequency.value =392;

    }, false)
 
    box1.addEventListener('touchmove', function(e){
        var touchobj = e.changedTouches[0] // reference first touch point for this event
        var dist = parseInt(touchobj.clientX) - startx
        statusdiv.innerHTML = dist + 'px'
        e.preventDefault()
    }, false)
 
    box1.addEventListener('touchend', function(e){
        var touchobj = e.changedTouches[0] // reference first touch point for this event
        statusdiv.innerHTML = touchobj.clientX + 'px'
        e.preventDefault()
           document.getElementById("box1").setAttribute("style", "background-color:black;"); 
 osc.frequency.value =0;
        
    }, false)
 
/////////////////////////////////

    var box2 = document.getElementById('box2')
    var statusdiv2 = document.getElementById('statusdiv2')
    var startx2 = 0
    var dist2 = 0
 
    box2.addEventListener('touchstart', function(e){
        var touchobj2 = e.changedTouches[0] // reference first touch point (ie: first finger)
        startx2 = parseInt(touchobj2.clientX) // get x position of touch point relative to left edge of browser
        statusdiv2.innerHTML = startx2 + 'px'
        e.preventDefault()

    document.getElementById("box2").setAttribute("style", "background-color:red;"); 

     osc.frequency.value =440;

    }, false)
 
    box2.addEventListener('touchmove', function(e){
        var touchobj2 = e.changedTouches[0] // reference first touch point for this event
        var dist2 = parseInt(touchobj2.clientX) - startx2
        statusdiv2.innerHTML = dist2 + 'px'
        e.preventDefault()
    }, false)
 
    box2.addEventListener('touchend', function(e){
        var touchobj2 = e.changedTouches[0] // reference first touch point for this event
        statusdiv2.innerHTML = touchobj2.clientX + 'px'
        e.preventDefault()
           document.getElementById("box2").setAttribute("style", "background-color:black;"); 

           osc.frequency.value =0;
    }, false)
 
/////////////////////////////

    var box3 = document.getElementById('box3')
    var statusdiv3 = document.getElementById('statusdiv3')
    var startx3 = 0
    var dist3 = 0
 
    box3.addEventListener('touchstart', function(e){
        var touchobj3 = e.changedTouches[0] // reference first touch point (ie: first finger)
        startx3 = parseInt(touchobj3.clientX) // get x position of touch point relative to left edge of browser
        statusdiv3.innerHTML = startx3 + 'px'
        e.preventDefault()

    document.getElementById("box3").setAttribute("style", "background-color:red;"); 
 osc.frequency.value =523;


    }, false)
 
    box3.addEventListener('touchmove', function(e){
        var touchobj3 = e.changedTouches[0] // reference first touch point for this event
        var dist3 = parseInt(touchobj3.clientX) - startx3
        statusdiv3.innerHTML = dist3 + 'px'
        e.preventDefault()
    }, false)
 
    box3.addEventListener('touchend', function(e){
        var touchobj3 = e.changedTouches[0] // reference first touch point for this event
        statusdiv3.innerHTML = touchobj3.clientX + 'px'
        e.preventDefault()
           document.getElementById("box3").setAttribute("style", "background-color:black;"); 

           osc.frequency.value =0;
    }, false)
 
/////////////////////////////




    var box4= document.getElementById('box4')
    var statusdiv4 = document.getElementById('statusdiv4')
    var startx4 = 0
    var dist4 = 0
 
    box4.addEventListener('touchstart', function(e){
        var touchobj4 = e.changedTouches[0] // reference first touch point (ie: first finger)
        startx4 = parseInt(touchobj4.clientX) // get x position of touch point relative to left edge of browser
        statusdiv4.innerHTML = startx4 + 'px'
        e.preventDefault()

    document.getElementById("box4").setAttribute("style", "background-color:red;"); 
     osc.frequency.value =587;

    }, false)
 
    box4.addEventListener('touchmove', function(e){
        var touchobj4 = e.changedTouches[0] // reference first touch point for this event
        var dist4 = parseInt(touchobj4.clientX) - startx4
        statusdiv4.innerHTML = dist4 + 'px'
        e.preventDefault()
    }, false)
 
    box4.addEventListener('touchend', function(e){
        var touchobj4 = e.changedTouches[0] // reference first touch point for this event
        statusdiv4.innerHTML = touchobj4.clientX + 'px'
        e.preventDefault()
           document.getElementById("box4").setAttribute("style", "background-color:black;"); 
            amp.gain.value=0;
    }, false)
 
/////////////////////////////


    var box5 = document.getElementById('box5')
    var statusdiv5 = document.getElementById('statusdiv5')
    var startx5 = 0
    var dist5 = 0
 
    box5.addEventListener('touchstart', function(e){
        var touchobj5 = e.changedTouches[0] // reference first touch point (ie: first finger)
        startx5 = parseInt(touchobj5.clientX) // get x position of touch point relative to left edge of browser
        statusdiv5.innerHTML = startx5 + 'px'
        e.preventDefault()

    document.getElementById("box5").setAttribute("style", "background-color:red;"); 
     osc.frequency.value =659;

    }, false)
 
    box5.addEventListener('touchmove', function(e){
        var touchobj5 = e.changedTouches[0] // reference first touch point for this event
        var dist5 = parseInt(touchobj5.clientX) - startx5
        statusdiv5.innerHTML = dist5 + 'px'
        e.preventDefault()
    }, false)
 
    box5.addEventListener('touchend', function(e){
        var touchobj5 = e.changedTouches[0] // reference first touch point for this event
        statusdiv5.innerHTML = touchobj5.clientX + 'px'
        e.preventDefault()
           document.getElementById("box5").setAttribute("style", "background-color:black;"); 
            amp.gain.value=0;
    }, false)
 
/////////////////////////////


    var box6 = document.getElementById('box6')
    var statusdiv6 = document.getElementById('statusdiv6')
    var startx6 = 0
    var dist6 = 0
 
    box6.addEventListener('touchstart', function(e){
        var touchobj6 = e.changedTouches[0] // reference first touch point (ie: first finger)
        startx6 = parseInt(touchobj6.clientX) // get x position of touch point relative to left edge of browser
        statusdiv6.innerHTML = startx6 + 'px'
        e.preventDefault()

    document.getElementById("box6").setAttribute("style", "background-color:red;"); 
     osc.frequency.value =783;

    }, false)
 
    box6.addEventListener('touchmove', function(e){
        var touchobj6 = e.changedTouches[0] // reference first touch point for this event
        var dist6 = parseInt(touchobj6.clientX) - startx6
        statusdiv6.innerHTML = dist6 + 'px'
        e.preventDefault()
    }, false)
 
    box6.addEventListener('touchend', function(e){
        var touchobj6 = e.changedTouches[0] // reference first touch point for this event
        statusdiv6.innerHTML = touchobj6.clientX + 'px'
        e.preventDefault()
           document.getElementById("box6").setAttribute("style", "background-color:black;"); 
            amp.gain.value=0;
    }, false)
 
/////////////////////////////




</script>






<script>



function openNav() {
    document.getElementById("myNav").style.width = "100%";

   
}

function closeNav() {
    document.getElementById("myNav").style.width = "0%";
}
</script>

<script>

 var context = new AudioContext();


var mic, analyser,amp,osc;
 analyser = context.createAnalyser();  
 amp = context.createGain();
 osc = context.createOscillator();
amp.gain.value=0;
 osc.frequency.value =0;
     navigator.webkitGetUserMedia(

                {audio: true, video: false},

                function (stream) {
                    mic = context.createMediaStreamSource(stream);
                },
                function (error) {
                    alert('Unable to get the user media');
                }
            );

 


function micInputon() {
mic.connect(analyser);

osc.connect(amp)
amp.connect(context.destination);
osc.start(0);

  


  frameLooper();
                       }
                       

function micInputoff() {
      mic.diconnect(analyser);
                       }







  
  

function frameLooper(){ 
window.webkitRequestAnimationFrame(frameLooper);
  amplitudeArray = new Uint8Array(analyser.frequencyBinCount);
  analyser.getByteTimeDomainData(amplitudeArray);
        var minValue = 9999999;
        var maxValue = 0;
        for (var i = 0; i < amplitudeArray.length; i++) {
            var value = amplitudeArray[i] / 256;
            if(value > maxValue) {
                maxValue = value;
            } else if(value < minValue) {
                minValue = value;
            }
        }
 document.getElementById("name").innerHTML= maxValue.toFixed(2);

     if(maxValue.toFixed(2)*100 >55)
         {

  document.getElementById("in").setAttribute("style", "background-color:red;");
     amp.gain.value=0.5;

                              }

     else {

  document.getElementById("in").setAttribute("style", "background-color:yellow;"); 
   amp.gain.value=0;

     }





                        }

</script>


	</body>
</html>
